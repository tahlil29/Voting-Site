{% extends "base.html" %}
{% block content %}

<div class="mb-4">
    <h2 class="fw-bold">ðŸ‘‹ Welcome back</h2>
    <p class="text-muted">Vote in active polls and view published results</p>
</div>

<!-- STATS -->
<div class="row g-3 mb-4">
    <div class="col-md-3">
        <div class="card p-3 text-center">
            <h5>ðŸ—³ Active Polls</h5>
            <h2 class="fw-bold">{{ active_polls|length }}</h2>
        </div>
    </div>
    <div class="col-md-3">
        <div class="card p-3 text-center">
            <h5>âœ… Votes Cast</h5>
            <h2 class="fw-bold">{{ voted_count or 0 }}</h2>
        </div>
    </div>
    <div class="col-md-3">
        <div class="card p-3 text-center">
            <h5>ðŸ“Š Results</h5>
            <h2 class="fw-bold">{{ results_count or 0 }}</h2>
        </div>
    </div>
    <div class="col-md-3">
        <div class="card p-3 text-center">
            <h5>ðŸ•’ Last Activity</h5>
            <small class="text-muted">Today</small>
        </div>
    </div>
</div>

<!-- ACTIVE POLLS -->
<h4 class="mb-3">ðŸ—³ Active Polls</h4>

{% if active_polls %}
<div class="row g-3">
    {% for poll in active_polls %}
    <div class="col-md-6">
        <div class="card p-4">
            <h5 class="fw-bold">{{ poll.title }}</h5>

            <span class="badge mb-3">
                {{ "Multiple Choice" if poll.allow_multiple else "Single Choice" }}
            </span>

            <a href="{{ url_for('vote', poll_id=poll.id) }}"
               class="btn btn-primary w-100">
               Vote Now
            </a>
        </div>
    </div>
    {% endfor %}
</div>
{% else %}
<div class="alert alert-info text-center p-4">
    ðŸ˜• No active polls right now.<br>
    Please check back later.
</div>
{% endif %}

{% endblock %}
